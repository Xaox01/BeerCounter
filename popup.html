<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Licznik Piw</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="popup-page">
  <div class="container">
    <h1>ğŸº Licznik Piw</h1>
    
    <!-- Nawigacja -->
    <div class="tabs">
      <button class="tab active" data-tab="stats">ğŸ“Š Statystyki</button>
      <button class="tab" data-tab="charts">ğŸ“ˆ Wykresy</button>
      <button class="tab" data-tab="calendar">ğŸ“… Kalendarz</button>
      <button class="tab" data-tab="settings">âš™ï¸ Ustawienia</button>
    </div>
    
    <!-- ===== STATYSTYKI ===== -->
    <div class="tab-content active" id="stats">
      <div class="stats-card">
        <h2>Dzisiaj</h2>
        <p class="big-number" id="todayCount">0</p>
        <p class="label">piw</p>
      </div>
      
      <div class="stats-grid">
        <div class="stat-box">
          <p class="stat-number" id="yesterdayCount">0</p>
          <p class="stat-label">Wczoraj</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="weekCount">0</p>
          <p class="stat-label">Ten tydzieÅ„</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="monthCount">0</p>
          <p class="stat-label">Ten miesiÄ…c</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="yearCount">0</p>
          <p class="stat-label">Ten rok</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="avgWeek">0</p>
          <p class="stat-label">Åšr./dzieÅ„ (7d)</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="totalCount">0</p>
          <p class="stat-label">ÅÄ…cznie</p>
        </div>
      </div>
      
      <!-- KOSZTY I KALORIE -->
      <div class="costs-section">
        <h3>ğŸ’° Koszty i kalorie</h3>
        <div class="costs-grid">
          <div class="cost-box">
            <span class="cost-icon">ğŸ“…</span>
            <div class="cost-info">
              <p class="cost-value" id="weekCost">0 zÅ‚</p>
              <p class="cost-label">Ten tydzieÅ„</p>
            </div>
          </div>
          <div class="cost-box">
            <span class="cost-icon">ğŸ“†</span>
            <div class="cost-info">
              <p class="cost-value" id="monthCost">0 zÅ‚</p>
              <p class="cost-label">Ten miesiÄ…c</p>
            </div>
          </div>
          <div class="cost-box">
            <span class="cost-icon">ğŸ“Š</span>
            <div class="cost-info">
              <p class="cost-value" id="yearCost">0 zÅ‚</p>
              <p class="cost-label">Ten rok</p>
            </div>
          </div>
          <div class="cost-box">
            <span class="cost-icon">ğŸ”¥</span>
            <div class="cost-info">
              <p class="cost-value" id="monthCalories">0 kcal</p>
              <p class="cost-label">Kalorie (miesiÄ…c)</p>
            </div>
          </div>
        </div>
        
        <div class="fun-stats">
          <p id="funStat1"></p>
          <p id="funStat2"></p>
        </div>
      </div>
      
      <div class="streak-info" id="streakInfo"></div>
      
      <!-- Szybkie dodawanie -->
      <div class="quick-add">
        <h3>Dodaj piwo</h3>
        <div class="add-buttons">
          <button class="add-btn" data-count="1">+1 ğŸº</button>
          <button class="add-btn" data-count="2">+2 ğŸº</button>
          <button class="add-btn" data-count="3">+3 ğŸº</button>
        </div>
      </div>
    </div>
    
    <!-- ===== WYKRESY ===== -->
    <div class="tab-content" id="charts">
      <div class="chart-container">
        <h3>Ostatnie 7 dni</h3>
        <canvas id="weekChart"></canvas>
      </div>
      
      <div class="chart-container">
        <h3>Ostatnie 30 dni</h3>
        <canvas id="monthChart"></canvas>
      </div>
      
      <div class="chart-container">
        <h3>Dni tygodnia (Å›rednia)</h3>
        <canvas id="weekdayChart"></canvas>
      </div>
      
      <div class="chart-container">
        <h3>Koszty miesiÄ™czne</h3>
        <canvas id="costChart"></canvas>
      </div>
      
      <div class="chart-stats">
        <div class="chart-stat">
          <p class="chart-stat-value" id="maxDay">0</p>
          <p class="chart-stat-label">Rekord dzienny</p>
        </div>
        <div class="chart-stat">
          <p class="chart-stat-value" id="avgMonth">0</p>
          <p class="chart-stat-label">Åšrednia (30 dni)</p>
        </div>
        <div class="chart-stat">
          <p class="chart-stat-value" id="drinkingDays">0%</p>
          <p class="chart-stat-label">Dni z piwem</p>
        </div>
      </div>
    </div>
    
    <!-- ===== KALENDARZ ===== -->
    <div class="tab-content" id="calendar">
      <div class="calendar-nav">
        <button id="prevMonth">â—€</button>
        <span id="monthLabel">StyczeÅ„ 2024</span>
        <button id="nextMonth">â–¶</button>
      </div>
      
      <div class="calendar-grid">
        <div class="day-header">Pn</div>
        <div class="day-header">Wt</div>
        <div class="day-header">Åšr</div>
        <div class="day-header">Cz</div>
        <div class="day-header">Pt</div>
        <div class="day-header">So</div>
        <div class="day-header">Nd</div>
      </div>
      <div class="calendar-days" id="calendarDays"></div>
      
      <div class="calendar-legend">
        <span><i class="legend-dot level-0"></i> 0</span>
        <span><i class="legend-dot level-1"></i> 1-2</span>
        <span><i class="legend-dot level-2"></i> 3-4</span>
        <span><i class="legend-dot level-3"></i> 5-6</span>
        <span><i class="legend-dot level-4"></i> 7+</span>
      </div>
      
      <div class="month-summary" id="monthSummary"></div>
      
      <!-- RÄ™czne dodawanie -->
      <div class="manual-add">
        <h3>Edytuj datÄ™</h3>
        <div class="manual-inputs">
          <input type="date" id="manualDate">
          <input type="number" id="manualCount" min="0" max="99" placeholder="IloÅ›Ä‡">
          <button id="manualSave" class="save-btn">ğŸ’¾</button>
        </div>
      </div>
    </div>
    
    <!-- ===== USTAWIENIA ===== -->
    <div class="tab-content" id="settings">
      <div class="settings-section">
        <h3>ğŸ’° Koszty</h3>
        <div class="setting-row">
          <label>Cena za piwo (zÅ‚)</label>
          <input type="number" id="settingPrice" min="1" max="50" step="0.5">
        </div>
        <div class="setting-row">
          <label>PojemnoÅ›Ä‡ (ml)</label>
          <input type="number" id="settingMl" min="100" max="1000" step="50">
        </div>
        <div class="setting-row">
          <label>Kalorie na piwo</label>
          <input type="number" id="settingCalories" min="50" max="500">
        </div>
      </div>
      
      <div class="settings-section">
        <h3>âš ï¸ Limity</h3>
        <div class="setting-row">
          <label>Limit dzienny</label>
          <input type="number" id="settingDailyLimit" min="1" max="20">
        </div>
        <div class="setting-row">
          <label>Limit tygodniowy</label>
          <input type="number" id="settingWeeklyLimit" min="1" max="100">
        </div>
        <div class="setting-row">
          <label>Powiadomienia o limicie</label>
          <input type="checkbox" id="settingAlerts">
        </div>
      </div>
      
      <button id="saveSettings" class="save-settings-btn">ğŸ’¾ Zapisz ustawienia</button>
      
      <div class="settings-section danger-zone">
        <h3>ğŸ—‘ï¸ Dane</h3>
        <button id="exportCSV" class="action-btn">ğŸ“Š Eksport CSV</button>
        <button id="clearAll" class="action-btn danger">ğŸ—‘ï¸ UsuÅ„ wszystkie dane</button>
      </div>
    </div>
    
  </div>
  
  <script src="popup.js"></script>
</body>
</html>