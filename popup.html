<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Licznik Piw</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="popup-page">
  <div class="container">
    <h1>ğŸº Licznik Piw v4</h1>
    
    <div class="tabs">
      <button class="tab active" data-tab="stats">ğŸ“Š Stats</button>
      <button class="tab" data-tab="charts">ğŸ“ˆ Wykresy</button>
      <button class="tab" data-tab="bac">ğŸš— Promile</button>
      <button class="tab" data-tab="calendar">ğŸ“…</button>
      <button class="tab" data-tab="settings">âš™ï¸</button>
    </div>
    
    <!-- STATYSTYKI -->
    <div class="tab-content active" id="stats">
      
      <div class="stats-card">
        <h2>Dzisiaj</h2>
        <p class="big-number" id="todayCount">0</p>
        <p class="label">piw</p>
      </div>
      
      <!-- CEL TYGODNIOWY -->
      <div class="weekly-goal">
        <h3>ğŸ¯ Cel tygodniowy <span id="goalDisplay">0/10</span></h3>
        <div class="progress-bar">
          <div class="progress-fill safe" id="goalProgress" style="width: 0%"></div>
        </div>
        <div class="weekly-days" id="weeklyDays"></div>
        <div class="goal-tip" id="goalTip">ğŸ’¡ Åšwietnie ci idzie!</div>
      </div>
      
      <!-- OSIÄ„GNIÄ˜CIA -->
      <div class="achievements-section">
        <div class="achievements-header">
          <h3>ğŸ† OsiÄ…gniÄ™cia</h3>
          <span class="achievements-count" id="achievementsCount">0/5</span>
        </div>
        <div class="achievements-grid" id="achievementsGrid"></div>
        <div class="last-achievement" id="lastAchievement"></div>
      </div>
      
      <div class="stats-grid">
        <div class="stat-box">
          <p class="stat-number" id="yesterdayCount">0</p>
          <p class="stat-label">Wczoraj</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="weekCount">0</p>
          <p class="stat-label">TydzieÅ„</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="monthCount">0</p>
          <p class="stat-label">MiesiÄ…c</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="yearCount">0</p>
          <p class="stat-label">Rok</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="avgWeek">0</p>
          <p class="stat-label">Åšr./dzieÅ„</p>
        </div>
        <div class="stat-box">
          <p class="stat-number" id="totalCount">0</p>
          <p class="stat-label">ÅÄ…cznie</p>
        </div>
      </div>
      
      <!-- PORÃ“WNANIE Z POPRZEDNIM MIESIÄ„CEM -->
      <div class="comparison-section">
        <h3>ğŸ“Š Ten miesiÄ…c vs poprzedni</h3>
        <div class="comparison-row">
          <span class="comparison-label">Piwa</span>
          <div class="comparison-values">
            <span class="comparison-current" id="compBeers">0</span>
            <span class="comparison-vs">vs</span>
            <span id="compBeersPrev">0</span>
            <span class="comparison-change" id="compBeersChange">0%</span>
          </div>
        </div>
        <div class="comparison-row">
          <span class="comparison-label">Koszt</span>
          <div class="comparison-values">
            <span class="comparison-current" id="compCost">0 zÅ‚</span>
            <span class="comparison-vs">vs</span>
            <span id="compCostPrev">0 zÅ‚</span>
            <span class="comparison-change" id="compCostChange">0%</span>
          </div>
        </div>
        <div class="comparison-row">
          <span class="comparison-label">Dni bez piwa</span>
          <div class="comparison-values">
            <span class="comparison-current" id="compSober">0</span>
            <span class="comparison-vs">vs</span>
            <span id="compSoberPrev">0</span>
            <span class="comparison-change" id="compSoberChange">0%</span>
          </div>
        </div>
      </div>
      
      <!-- KOSZTY -->
      <div class="costs-section">
        <h3>ğŸ’° Koszty i kalorie</h3>
        <div class="costs-grid">
          <div class="cost-box">
            <span class="cost-icon">ğŸ“…</span>
            <div class="cost-info">
              <p class="cost-value" id="weekCost">0 zÅ‚</p>
              <p class="cost-label">TydzieÅ„</p>
            </div>
          </div>
          <div class="cost-box">
            <span class="cost-icon">ğŸ“†</span>
            <div class="cost-info">
              <p class="cost-value" id="monthCost">0 zÅ‚</p>
              <p class="cost-label">MiesiÄ…c</p>
            </div>
          </div>
          <div class="cost-box">
            <span class="cost-icon">ğŸ“Š</span>
            <div class="cost-info">
              <p class="cost-value" id="yearCost">0 zÅ‚</p>
              <p class="cost-label">Rok</p>
            </div>
          </div>
          <div class="cost-box">
            <span class="cost-icon">ğŸ”¥</span>
            <div class="cost-info">
              <p class="cost-value" id="monthCalories">0 kcal</p>
              <p class="cost-label">Kalorie</p>
            </div>
          </div>
        </div>
        
        <div class="fun-stats" id="funStats"></div>
      </div>
      
      <div class="streak-info" id="streakInfo"></div>
      
      <div class="quick-add">
        <h3>Dodaj piwo</h3>
        <div class="add-buttons">
          <button class="add-btn" data-count="1">+1 ğŸº</button>
          <button class="add-btn" data-count="2">+2 ğŸº</button>
          <button class="add-btn" data-count="3">+3 ğŸº</button>
        </div>
      </div>
    </div>
    
    <!-- WYKRESY -->
    <div class="tab-content" id="charts">
      <div class="chart-box">
        <h3>ğŸ“Š Ostatnie 7 dni</h3>
        <div class="chart-bars" id="weekChart"></div>
      </div>
      
      <div class="chart-box">
        <h3>ğŸ“ˆ Ostatnie 30 dni</h3>
        <div class="chart-line" id="monthChart"></div>
      </div>
      
      <div class="chart-box">
        <h3>ğŸ“… Dni tygodnia (Å›rednia)</h3>
        <div class="chart-bars" id="weekdayChart"></div>
      </div>
      
      <div class="chart-box">
        <h3>ğŸ’° Koszty (6 miesiÄ™cy)</h3>
        <div class="chart-bars" id="costChart"></div>
      </div>
      
      <div class="chart-stats">
        <div class="chart-stat">
          <p class="chart-stat-value" id="maxDay">0</p>
          <p class="chart-stat-label">Rekord</p>
        </div>
        <div class="chart-stat">
          <p class="chart-stat-value" id="avgMonth">0</p>
          <p class="chart-stat-label">Åšrednia/30d</p>
        </div>
        <div class="chart-stat">
          <p class="chart-stat-value" id="drinkingDays">0%</p>
          <p class="chart-stat-label">Dni z piwem</p>
        </div>
      </div>
    </div>
    
    <!-- KALKULATOR PROMILI -->
    <div class="tab-content" id="bac">
      <div class="bac-section">
        <h3>ğŸš— Kalkulator promili</h3>
        
        <div class="bac-inputs">
          <div class="bac-input-group">
            <label>Waga (kg)</label>
            <input type="number" id="bacWeight" value="80" min="40" max="200">
          </div>
          <div class="bac-input-group">
            <label>PÅ‚eÄ‡</label>
            <select id="bacGender">
              <option value="M">MÄ™Å¼czyzna</option>
              <option value="K">Kobieta</option>
            </select>
          </div>
          <div class="bac-input-group">
            <label>Ile piw</label>
            <input type="number" id="bacBeers" value="1" min="0" max="30" step="0.5">
          </div>
          <div class="bac-input-group">
            <label>PojemnoÅ›Ä‡ (ml)</label>
            <input type="number" id="bacMl" value="500" min="100" max="1000" step="50">
          </div>
          <div class="bac-input-group">
            <label>% alkoholu</label>
            <input type="number" id="bacPercent" value="5.0" min="0" max="15" step="0.1">
          </div>
          <div class="bac-input-group">
            <label>Godzin temu</label>
            <input type="number" id="bacHours" value="0" min="0" max="24" step="0.5">
          </div>
        </div>
        
        <div class="bac-presets">
          <span class="bac-preset-label">Szybki wybÃ³r %:</span>
          <button class="bac-preset" data-percent="4.0">Lager 4%</button>
          <button class="bac-preset" data-percent="5.0">Piwo 5%</button>
          <button class="bac-preset" data-percent="6.0">Mocne 6%</button>
          <button class="bac-preset" data-percent="7.5">IPA 7.5%</button>
          <button class="bac-preset" data-percent="9.0">Strong 9%</button>
        </div>
        
        <button class="btn-save" id="calcBac">ğŸ§® Oblicz promile</button>
        
        <div class="bac-result safe" id="bacResult">
          <div class="bac-value" id="bacValue">0.00 â€°</div>
          <div class="bac-status" id="bacStatus">TrzeÅºwy - moÅ¼esz jechaÄ‡</div>
        </div>
        
        <div class="bac-info">
          <div class="bac-info-item">
            <div class="bac-info-label">MoÅ¼esz jechaÄ‡ za</div>
            <div class="bac-info-value" id="bacDriveTime">0h</div>
          </div>
          <div class="bac-info-item">
            <div class="bac-info-label">TrzeÅºwy o</div>
            <div class="bac-info-value" id="bacSoberTime">--:--</div>
          </div>
          <div class="bac-info-item">
            <div class="bac-info-label">Gramy alkoholu</div>
            <div class="bac-info-value" id="bacGrams">0g</div>
          </div>
        </div>
        
        <div class="bac-breakdown" id="bacBreakdown"></div>
      </div>
      
      <div class="daily-tip">
        <div class="daily-tip-header">ğŸ’¡ Czy wiesz, Å¼e...</div>
        <div class="daily-tip-text" id="bacTip">Limit promili dla kierowcÃ³w w Polsce to 0.2â€°. Po przekroczeniu 0.5â€° grozi kara do 2 lat wiÄ™zienia.</div>
      </div>
    </div>
    
    <!-- KALENDARZ -->
    <div class="tab-content" id="calendar">
      <div class="calendar-nav">
        <button id="prevMonth">â—€</button>
        <span id="monthLabel">StyczeÅ„ 2024</span>
        <button id="nextMonth">â–¶</button>
      </div>
      
      <div class="calendar-header">
        <span>Pn</span><span>Wt</span><span>Åšr</span><span>Cz</span><span>Pt</span><span>So</span><span>Nd</span>
      </div>
      <div class="calendar-days" id="calendarDays"></div>
      
      <div class="calendar-legend">
        <span><i class="dot l0"></i>0</span>
        <span><i class="dot l1"></i>1-2</span>
        <span><i class="dot l2"></i>3-4</span>
        <span><i class="dot l3"></i>5-6</span>
        <span><i class="dot l4"></i>7+</span>
      </div>
      
      <div class="month-summary" id="monthSummary"></div>
      
      <div class="manual-add">
        <h3>Edytuj datÄ™</h3>
        <div class="manual-row">
          <input type="date" id="manualDate">
          <input type="number" id="manualCount" min="0" max="99" placeholder="0">
          <button id="manualSave">ğŸ’¾</button>
        </div>
      </div>
    </div>
    
    <!-- USTAWIENIA -->
    <div class="tab-content" id="settings">
      <div class="settings-group">
        <h3>ğŸ¯ Cel tygodniowy</h3>
        <div class="setting-row">
          <label>Max piw na tydzieÅ„</label>
          <input type="number" id="settingWeeklyGoal" min="1" max="50">
        </div>
      </div>
      
      <div class="settings-group">
        <h3>ğŸ’° Koszty</h3>
        <div class="setting-row">
          <label>Cena za piwo (zÅ‚)</label>
          <input type="number" id="settingPrice" min="1" max="50" step="0.5">
        </div>
        <div class="setting-row">
          <label>PojemnoÅ›Ä‡ (ml)</label>
          <input type="number" id="settingMl" min="100" max="1000" step="50">
        </div>
        <div class="setting-row">
          <label>Kalorie na piwo</label>
          <input type="number" id="settingCalories" min="50" max="500">
        </div>
      </div>
      
      <div class="settings-group">
        <h3>ğŸš— Promile</h3>
        <div class="setting-row">
          <label>Twoja waga (kg)</label>
          <input type="number" id="settingWeight" min="40" max="200">
        </div>
        <div class="setting-row">
          <label>PÅ‚eÄ‡</label>
          <select id="settingGender">
            <option value="M">MÄ™Å¼czyzna</option>
            <option value="K">Kobieta</option>
          </select>
        </div>
      </div>
      
      <div class="settings-group">
        <h3>âš ï¸ Limity</h3>
        <div class="setting-row">
          <label>Limit dzienny</label>
          <input type="number" id="settingDailyLimit" min="1" max="20">
        </div>
        <div class="setting-row">
          <label>Limit tygodniowy</label>
          <input type="number" id="settingWeeklyLimit" min="1" max="100">
        </div>
      </div>
      
      <button id="saveSettings" class="btn-save">ğŸ’¾ Zapisz ustawienia</button>
      
      <div class="settings-group danger">
        <h3>ğŸ—‘ï¸ Dane</h3>
        <button id="exportCSV" class="btn-action">ğŸ“Š Eksport CSV</button>
        <button id="resetAchievements" class="btn-action">ğŸ† Resetuj osiÄ…gniÄ™cia</button>
        <button id="clearAll" class="btn-action btn-danger">ğŸ—‘ï¸ UsuÅ„ wszystko</button>
      </div>
    </div>
  </div>
  
  <script src="popup.js"></script>
</body>
</html>